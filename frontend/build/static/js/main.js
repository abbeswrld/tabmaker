(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{284:function(e,t,a){},286:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(79),o=a.n(l),i=(a(91),a(6)),s=a(7),c=a(9),u=a(8),p=a(10),m=a(288),d=a(289),h=a(49),f=a.n(h),v=a(80),E=a(37),y=a.n(E),b=a(38),g=a.n(b),j=a(81),O=a.n(j),k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"statsContainer"},r.a.createElement("dl",null,r.a.createElement("dt",null,this.props.overall),r.a.createElement("dd",null,this.props.text)),r.a.createElement("div",{className:"statsDetails"},r.a.createElement("table",{cellSpacing:"15"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.og),r.a.createElement("td",null,this.props.oo)),r.a.createElement("tr",null,r.a.createElement("td",null,this.props.cg),r.a.createElement("td",null,this.props.co))))))}}]),t}(r.a.Component),w=a(82),N=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={labels:this.props.labels,datasets:[{label:"",borderWidth:1,data:this.props.data,type:"line",lineTension:.2,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBorderWidth:2,pointHoverRadius:3,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10}]};return r.a.createElement("div",{className:"graphic-wrapper"},r.a.createElement(w.a,{data:e,options:{legend:{display:!1},scales:{xAxes:[{display:!1}]},maintainAspectRatio:!1,responsive:!0}}))}}]),t}(r.a.Component),C=a(287);function x(e){var t=e.length,a=e.map(function(e){return e[0]}).reduce(function(e,t){return e+t},0)/t,n=e.map(function(e){return e[1]}).reduce(function(e,t){return e+t},0)/t;return{amount:t,winrate:a.toFixed(2),speaker:n.toFixed(2)}}var _=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={profile:{},loaded:!1,endpoint:"/analytics/api/profile",placeholder:"Loading...",to_login:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"fetchProfile",value:function(){var e=Object(v.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.state.endpoint,{paramsSerializer:g.a.stringify});case 2:(t=e.sent).data.username?this.setState({profile:t.data,loaded:!0}):this.setState({to_login:!0,loaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchProfile()}},{key:"render",value:function(){if(!this.state.loaded)return r.a.createElement("div",{className:"loader"},r.a.createElement(O.a,{type:"Triangle",color:"#00BFFF",height:"120",width:"120"}),r.a.createElement("span",null,"Collecting your data..."));if(this.state.to_login)return r.a.createElement(C.a,{to:"/login"});var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{overall:x(this.state.profile.analytics.overall).amount,text:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440 \u0441\u044b\u0433\u0440\u0430\u043d\u043e",og:x(this.state.profile.analytics.og).amount,oo:x(this.state.profile.analytics.oo).amount,cg:x(this.state.profile.analytics.cg).amount,co:x(this.state.profile.analytics.co).amount}),r.a.createElement(k,{overall:x(this.state.profile.analytics.overall).winrate,text:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043c\u0435\u0441\u0442\u043e",og:x(this.state.profile.analytics.og).winrate,oo:x(this.state.profile.analytics.oo).winrate,cg:x(this.state.profile.analytics.cg).winrate,co:x(this.state.profile.analytics.co).winrate}),r.a.createElement(k,{overall:x(this.state.profile.analytics.overall).speaker,text:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0441\u043f\u0438\u043a\u0435\u0440\u0441\u043a\u0438\u0439",og:x(this.state.profile.analytics.og).speaker,oo:x(this.state.profile.analytics.oo).speaker,cg:x(this.state.profile.analytics.cg).speaker,co:x(this.state.profile.analytics.co).speaker}));return r.a.createElement("div",{className:"profile-wrapper"},r.a.createElement("div",{className:"overall-statistics"},r.a.createElement("div",{className:"legend-wrapper"},r.a.createElement("div",{className:"header-name"},this.state.profile.first_name," ",this.state.profile.last_name),r.a.createElement("table",{cellSpacing:"15"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u041e\u041f"),r.a.createElement("td",null,"\u041e\u041e")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0417\u041f"),r.a.createElement("td",null,"\u0417\u041e")))),r.a.createElement("span",null,"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440 \u043e\u0442\u0441\u0443\u0436\u0435\u043d\u043e: ",this.state.profile.analytics.judgement)),e||""),r.a.createElement("div",{className:"chart-container"},r.a.createElement("h2",null,"\u0421\u043f\u0438\u043a\u0435\u0440\u0441\u043a\u0438\u0435 \u0431\u0430\u043b\u043b\u044b \u043f\u043e \u043e\u0442\u0431\u043e\u0440\u043e\u0447\u043d\u044b\u043c \u0438\u0433\u0440\u0430\u043c"),r.a.createElement(N,{labels:this.state.profile.analytics.overall.map(function(e){return e[0]}),data:this.state.profile.analytics.overall.map(function(e){return e[1]})})))}}]),t}(r.a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("li",{className:"motion_element"},r.a.createElement("div",{className:"motion-info"},r.a.createElement("div",{className:"motion-motion"}," ",this.props.data.motion," "),r.a.createElement("div",{className:"motion-infoslide"}," ",this.props.data.infoslide," "),r.a.createElement("div",{className:"motion-governmentscore"},"\u041f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e:",this.props.data.analysis?this.props.data.analysis.government_score:" unknown"),r.a.createElement("div",{className:"motion-oppositionscore"},"\u041e\u043f\u043f\u043e\u0437\u0438\u0446\u0438\u044f:",this.props.data.analysis?this.props.data.analysis.opposition_score:" unknown"),r.a.createElement("hr",null)))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={motions_list:[],loaded:!1,endpoint:"/analytics/api/motions/",placeholder:"Loading..."},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"fetchData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;y.a.get(this.state.endpoint,{params:{searchQuery:t},paramsSerializer:g.a.stringify}).then(function(t){return e.setState({motions_list:t.data,loaded:!0})})}},{key:"componentDidMount",value:function(){this.fetchData(null)}},{key:"handleSearch",value:function(e){var t=e.target.value.toLowerCase();this.fetchData(t)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Search...",className:"search-field",onChange:this.handleSearch.bind(this)}),this.state.loaded?this.state.motions_list.map(function(e){return r.a.createElement(S,{data:e,key:e.id})}):r.a.createElement("p",null,this.state.placeholder)))}}]),t}(r.a.Component),F=(a(284),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"router-container"},r.a.createElement("a",{className:"header__logo",href:"/"},r.a.createElement("span",null,"Tabmaker")),r.a.createElement("div",{className:"content"},r.a.createElement(d.a,{exact:!0,path:"/profile",component:_}),r.a.createElement(d.a,{path:"/motions",component:B}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,a){e.exports=a(286)},91:function(e,t,a){}},[[86,2,1]]]);
//# sourceMappingURL=main.js.map