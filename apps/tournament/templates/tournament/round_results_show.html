{% extends "main/base.html" %}

{% load staticfiles %}
{% load profile_extras %}

{% block extra_head %}
    {{ block.super }}
    <script type="text/javascript" src="{% static "tournament/js/tabs_init.js" %}"></script>
{% endblock %}

{% block content %}

    {% block page_title %}
        <div class="title">
            <div class="title-container">
                <h3 class="title__name">
                    Результаты по комнатам
                </h3>
            </div>
        </div>
    {% endblock page_title %}

    <ul class="accordion-tabs">
        {% for i in results %}
            <li class="tab-header-and-content tab-header-and-content__first">
                <a href="javascript:void(0)" class="tab-link">Раунд {{ i.round.number }}</a>

                <div class="tab-content">
                    <div class="content-formpage">

                        {% for room in i.rooms %}
                        {% with g=room.game r=room.result %}

                            <div class="b-result-enter room">
                                <div class="b-result-enter__heading">
                                    <h3>{{ g.chair|name }}</h3> {# добавить аудиторию #}
                                </div>
                                <div class="b-result-enter__room game">

                                    {# ======   OG   ====== #}
                                    <div class="b-result-enter__team team og">
                                        <h3>Первое правительство</h3>
                                        {% with place=r.og speaker_1=r.pm s1_exist=r.pm_exist speaker_2=r.dpm s2_exist=r.dpm_exist is_rev=r.og_rev team=g.og %}
                                            {% include 'tournament/result_team_show.html' %}
                                        {% endwith %}
                                    </div>

                                    {# ======   OO   ====== #}
                                    <div class="b-result-enter__team team oo">
                                        <h3>Первая оппозиция</h3>
                                        {% with place=r.oo speaker_1=r.lo s1_exist=r.lo_exist speaker_2=r.dlo s2_exist=r.dlo_exist is_rev=r.oo_rev team=g.oo %}
                                            {% include 'tournament/result_team_show.html' %}
                                        {% endwith %}
                                    </div>

                                    {# ======   CG   ====== #}
                                    <div class="b-result-enter__team team cg">
                                        <h3>Второе правительство</h3>
                                        {% with place=r.cg speaker_1=r.mg s1_exist=r.mg_exist speaker_2=r.gw s2_exist=r.gw_exist is_rev=r.cg_rev team=g.cg %}
                                            {% include 'tournament/result_team_show.html' %}
                                        {% endwith %}
                                    </div>

                                    {# ======   CO   ====== #}
                                    <div class="b-result-enter__team team co">
                                        <h3>Вторая оппозиция</h3>
                                        {% with place=r.co speaker_1=r.mo s1_exist=r.mo_exist speaker_2=r.ow s2_exist=r.ow_exist is_rev=r.co_rev team=g.co %}
                                            {% include 'tournament/result_team_show.html' %}
                                        {% endwith %}
                                    </div>

                                </div>
                            </div>

                        {% endwith %}
                        {% endfor %}

                    </div>
                </div>

            </li>
        {% endfor %}
    </ul>

{% endblock content %}
