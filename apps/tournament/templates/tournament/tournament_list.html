{% load tournament_extras %}

{% for tournament in objects %}
    <li class="b-tournamentlist-item">

        <div class="b-tournamentlist-current">
            <h3 class="b-tournamentlist-current__heading"><a href="{% url 'tournament:show' tournament.id %}">{{ tournament.name }}</a></h3>
            <ul>
                <li class="b-tournamentlist-current__about"><i class="fa fa-compass"></i>{{ tournament|address }}</li>
               <li class="b-tournamentlist-current__about"><i class="fa fa-calendar"></i>{{ tournament.start_tour|date:"d E Y"}}</li>
                <li class="b-tournamentlist-current__about"><i class="fa fa-users"></i>{{ tournament|registered_users }} заявок</li>
            </ul>
        </div>
        
        <div class="b-tournamentlist-status">
            <div class="b-tournamentlist-status__reg">
            {% if tournament|is_status_registration %}
                <p>Регистрация открыта до {{ tournament.close_reg|date:"d E"}}</p>
            {% elif tournament|is_status_preparation %}
                <p>Регистрация </br> закрыта</p>
             <div/>
            {% else %}
                <a class="b-tournamentlist-status__button" href="{% url "tournament:result" tournament.id %}">Результаты</a>
            {% endif %}
       
    </li>
{% endfor %}
