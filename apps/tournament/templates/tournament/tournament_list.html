{% load tournament_extras %}

{% for tournament in objects %}
    <li class="list">

        <div class="list-item">

            <div class="list-item__container">

                <h3 class="list-item__heading">
                    <a href="{% url 'tournament:show' tournament.id %}">{{ tournament.name }}</a>
                </h3>

                <ul class="list-item__block">
                    <li class="list-item__block--item">{{ tournament.start_tour|date:"d E Y"}}</li>
                    <li class="list-item__block--item">{{ tournament|address }}</li>
                    {% if not tournament|is_status_registration and not tournament|is_status_preparation %}
                    <li class="list-item__block--item">Играют {{ tournament.m_count }} команд</li>
                    {% endif %}
                </ul>

            </div>

            <div class="list-item__container--row">

                {% if tournament|is_status_registration %}

                    <a class="button button--mid button--sec button--inline" href="{% url "tournament:registration_team" tournament.id %}">
                        Участвовать
                    </a>
                    <a class="button button--mid button--sec button--inline" href="{% url "tournament:registration_adjudicator" tournament.id %}">
                        Судить
                    </a>

                {% elif tournament|is_status_started or tournament|is_status_playoff%}

                    <a class="button button--mid button--prime button--inline" href="{% url "tournament:show_round" tournament.id %}">
                        Текущий раунд
                    </a>

                {% else %}

                <a class="button button--mid button--sec button--inline" href="{% url "tournament:result" tournament.id %}">
                    Результаты
                </a>

            {% endif %}

            </div>

        </div>

    </li>
{% endfor %}
